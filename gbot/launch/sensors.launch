<launch>
  #### Start display ###########

  <include file="$(find gbot)/launch/display.launch" />

  #### Start LIDAR ###########

  <include file="$(find gbot)/launch/lidar.launch" />

  #### Start MPU 9255 driver ###########

  <include file="$(find gbot)/launch/imu.launch" />

  #### Start proximity scanning ###########

  <node pkg="gbot" type="distance_scanner.py" name="proximity_scanner" output="screen" required="true">
  </node>

  #### Start wheel encoders ###########

  <node pkg="gbot" type="encoder.py" name="wheel_encoder" output="screen" required="true">
  </node>

  #### Include differential drive encoders ###########
  <include file="$(find gbot)/launch/differential-drive.launch" />

  #### Start camera ###########
  <include file="$(find gbot)/launch/camera.launch" />

  <node pkg="robot_pose_ekf" type="robot_pose_ekf" name="robot_pose_ekf">
    <remap from="/imu/data" to="imu_data" />
    <param name="output_frame" value="odom"/>
    <param name="freq" value="30.0"/>
    <param name="sensor_timeout" value="1.0"/>
    <param name="odom_used" value="true"/>
    <param name="imu_used" value="true"/>
    <param name="vo_used" value="false"/>
    <param name="debug" value="false"/>
    <param name="self_diagnose" value="true"/>
  </node>
</launch>
